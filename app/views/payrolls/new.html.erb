<div class="min-h-screen bg-gradient-to-br from-yellow-200 to-yellow-300 p-4" x-data="{ isLoading: false }">
  <div class="max-w-2xl mx-auto">

    <div class="brutalist-card p-8">
      <div class="text-center mb-8">
        <h1 class="text-4xl font-black text-black mb-2 brutalist-tilt-minus-1">
          新增薪資批次
        </h1>
        <p class="text-lg font-bold text-black">為 <%= @company.name %> 建立薪資批次</p>
      </div>

      <%= form_with model: @payroll, local: true, class: "space-y-6", "x-on:submit": "isLoading = true" do |f| %>
        <% if @payroll.errors.any? %>
          <div class="brutalist-error">
            <h3 class="font-black text-black mb-2">發生錯誤：</h3>
            <ul class="list-disc list-inside text-black font-bold">
              <% @payroll.errors.full_messages.each do |message| %>
                <li><%= message %></li>
              <% end %>
            </ul>
          </div>
        <% end %>

        <div class="space-y-4">
          <div>
            <%= f.label :year, "年份", class: "block font-black text-black mb-2" %>
            <%= f.number_field :year, value: Date.current.year,
                               class: "brutalist-input" %>
          </div>

          <div>
            <%= f.label :month, "月份", class: "block font-black text-black mb-2" %>
            <%= f.number_field :month, value: Date.current.month, min: 1, max: 12,
                               class: "brutalist-input" %>
          </div>
        </div>

        <div class="flex gap-4">
          <%= link_to "取消", payrolls_path, class: "brutalist-button-secondary flex-1 text-center" %>
          <%= f.submit "建立薪資批次", class: "brutalist-button-primary flex-1",
                       "x-bind:disabled": "isLoading",
                       "x-bind:class": "{ 'opacity-75 cursor-not-allowed': isLoading }" %>
        </div>
      <% end %>

      <!-- 提示資訊 -->
      <div class="mt-8 bg-white border-4 border-black p-4 neubrutalist-shadow brutalist-tilt-1">
        <h3 class="font-bold text-black mb-2">小提示</h3>
        <p class="text-black font-medium text-sm">
          建立薪資批次後，系統會自動抓取該公司所有員工的資料。
          您可以在詳細頁面進行薪資計算和確認。
        </p>
      </div>
    </div>
  </div>

  <!-- 背景裝飾 -->
  <div class="fixed inset-0 pointer-events-none overflow-hidden">
    <div class="absolute top-20 left-10 w-6 h-6 bg-red-500 border-4 border-black neubrutalist-shadow brutalist-tilt-1"></div>
    <div class="absolute top-40 right-20 w-4 h-4 bg-orange-500 border-4 border-black neubrutalist-shadow brutalist-tilt-minus-2"></div>
    <div class="absolute top-1/3 left-1/4 w-5 h-5 bg-yellow-400 border-4 border-black neubrutalist-shadow brutalist-tilt-2"></div>
    <div class="absolute bottom-40 left-20 w-6 h-6 bg-green-500 border-4 border-black neubrutalist-shadow brutalist-tilt-minus-1"></div>
    <div class="absolute bottom-20 right-10 w-5 h-5 bg-blue-500 border-4 border-black neubrutalist-shadow brutalist-tilt-1"></div>
    <div class="absolute top-2/3 right-1/3 w-4 h-4 bg-purple-500 border-4 border-black neubrutalist-shadow brutalist-tilt-minus-2"></div>
  </div>
</div>
